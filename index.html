<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>soomiles blog</title><meta property="og:type" content="blog"><meta property="og:title" content="soomiles blog"><meta property="og:url" content="http://soomiles.github.io/"><meta property="og:site_name" content="soomiles blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://soomiles.github.io/img/og_image.png"><meta property="article:author" content="Hyeonsoo Lee"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://soomiles.github.io"},"headline":"soomiles blog","image":["http://soomiles.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Hyeonsoo Lee"},"description":""}</script><link rel="icon" href="/img/favicon1.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-173937543-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-173937543-1');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo1.svg" alt="soomiles blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/soomiles"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2021-02-07T05:27:00.000Z" title="2021-02-07T05:27:00.000Z">2021-02-07</time><span class="level-item"><a class="link-muted" href="/categories/Competition/">Competition</a></span><span class="level-item">13 minutes read (About 2004 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/02/07/Solution-Summary-Prostate-cANcer-graDe-Assessment-PANDA-Challenge/">[Solution Summary] Prostate cANcer graDe Assessment (PANDA) Challenge </a></h1><div class="content"><h2 id="대회-소개-참조"><a href="#대회-소개-참조" class="headerlink" title="대회 소개 (참조)"></a>대회 소개 <em><a href="https://www.kaggle.com/rohitsingh9990/panda-eda-better-visualization-simple-baseline">(참조)</a></em></h2><h3 id="전립선암이란"><a href="#전립선암이란" class="headerlink" title="전립선암이란?"></a>전립선암이란?</h3><p>: 남성에게 가장 흔한 암 종류 중 하나입니다. 보통 전립선암은 천천히 자라고 전립선 안에만 있어 큰 위험요소는 아니지만 특정 종류의 전립선 암은 매우 빠르게 자라고 퍼집니다.</p>
<ul>
<li>전립선 암 검사</li>
</ul>
<ol>
<li>Digital rectal exam (DRE): 의사가 장갑을 끼고 직장에 손을 넣어 전립선의 질감, 모양, 크기를 통해 이상을 탐지합니다.</li>
<li>Prostate-specific antigen (PSA) test: 정맥의 혈액검사를 통해 PSA라는 전립선에서 분비되는 물질 검사를 합니다. 보통 적은 양이 분비되지만 이보다 많다면 전립선 감염, 염증 혹은 암이 의심됩니다.</li>
<li>Ultrasound: 직장에 작은 크기의 도구를 넣어 음파를 통해 전립선 사진을 촬영합니다.</li>
<li>Collecting a sample of prostate tissue: 모든 검사에서 암이 의심된다면 생체(조직) 검사를 통해 암을 판별합니다. 작은 침을 전립선에 넣어 조직을 수집하고 분석합니다.</li>
</ol>
<ul>
<li><dl><dt>GLEASON score</dt><dd>생체 검사를 통해 암이라고 확정받으면 암의 aggrerssive level을 판단합니다. 병리학자는 암 세포가 정상 세포에 비해 얼마나 다른지를 보고 판단하고 점수가 높을 수록 심각한 암입니다.<br>Gleason score는 일반적으로 사용되는 전립선 암 점수입니다. 두 점수를 합산하여 범위는 2부터 10입니다. 2보다 낮은 점수는 보통 사용되지않습니다.</dd></dl></li>
<li><dl><dt>ISUP grade</dt><dd>GLEASON score를 합산하여 ISUP grade를 나타냅니다. 범위는 1~5입니다.</dd></dl><ul>
<li>Gleason score 6 = ISUP grade 1</li>
<li>Gleason score 7 (3 + 4) = ISUP grade 2</li>
<li>Gleason score 7 (4 + 3) = ISUP grade 3</li>
<li>Gleason score 8 = ISUP grade 4</li>
<li>Gleason score 9-10 = ISUP grade 5</li>
</ul>
</li>
<li><dl><dt>Gleason score 채점방식</dt><dd>전립선 조직은 haematoxylin &amp; eosin(H&amp;E) 염색을 통해 염색됩니다. 조직은 내외분비샘 조직(glandular tissue)과 결합 조직(connective tissue)으로 구성됩니다.<br>분비샘 조직은 하얗거나 가지친 구멍처럼 보이는 구조로 되어있습니다. 분비샘의 모습은 GLEASON score 채점의 기반이 됩니다. 건강한 분비샘 구조는 암이 심각해질 수록 모양을 잃게 되며 점수는 3, 4, 5로 증가합니다.</dd></dl><blockquote>
<p>한글 의료 용어는 정확하지 않을 수 있습니다. 수정 사항이 있다면 알려주세요.</p>
</blockquote>
<p>  [A]Benign prostate glands with folded epithelium(상피 접힌 전립선): 세포질은 창백하고 핵은 작고 규칙적입니다. 분비샘들은 함께 뭉쳐있습니다.</p>
<p>  [B]Prostatic adenocarcinoma(정위선암종): Gleason Pattern 3은 분비샘 모습의 손실이 없습니다. 작은 분비샘이 양성 분비샘 사이에 침투합니다. 세포질은 종종 어둡고 핵은 어두운 색소와 몇몇 두드러진 뉴클레오로 확대됩니다. 각 상피부에는 별도의 lumen이 있습니다.</p>
<p>  [C]Prostatic adenocarcinoma(정성 선종암): Gleason Pattern 4는 분비샘 모습 손실을 가지고 있습니다. Luminar를 형성하려는 시도가 있었지만 종양이 완전하고 잘 발달된 분비샘을 형성하는데 실패했습니다. 이 현미경 영상은 불규칙적인 암, 즉 다발성 luminar를 가진 상피부를 보여줍니다. 또한 잘 형성되지 않은 작은 분비샘과 퓨전된 분비샘도 있습니다. 이 모든 것이 Gleason Pattern 4에 포함되어 있습니다.</p>
<p>  [D]Prostatic adenocarcinoma(전립선 선암종): Gleason Pattern 5는 거의 완전한 분비샘 모습 손실을 가지고 있습니다. 분산되어 있는 단일 암세포가 stroma에서 발견됩니다. Gleason Pattern 5는 또한 암세포의 고체 시트나 가닥을 포함할 수 있습니다. 모든 현미경 사진에는 20배 렌즈 확대 시 hematoxylin &amp; eosin stains이 표시됩니다.</p>
  <img src="/2021/02/07/Solution-Summary-Prostate-cANcer-graDe-Assessment-PANDA-Challenge/Untitled.png" class="" title="No title">

</li>
</ul>
<h3 id="데이터"><a href="#데이터" class="headerlink" title="데이터"></a>데이터</h3><ul>
<li><p>11,000 전립선 생체(조직)검사 whole-slide images (WSI)</p>
</li>
<li><p>각 WSI의 ISUP grade, GLEASON score</p>
</li>
<li><p>제공: Radboud University Medical Center, Karolinska Institute<br>c</p>
</li>
<li><p>Sample Images</p>
<ol>
<li>이미지 크기는 x축과 y축 모두 5,000~40,000 px 사이로 큽니다.</li>
<li>이미지는 레벨 3까지 존재합니다 (1배, 4배, 16배 축소)</li>
<li>조직은 서로 다르게 회전되어있고 이에 큰 의미는 없습니다.</li>
<li>병리조직들의 색 차이는 매우 크고 이는 연구 절차 차이때문입니다. </li>
</ol>
</li>
</ul>
<img src="/2021/02/07/Solution-Summary-Prostate-cANcer-graDe-Assessment-PANDA-Challenge/Untitled%202.png" class="" title="No title">

<ul>
<li><dl><dt>Label masks</dt><dd>pixel-label mask 정보가 주어져있고 각 기관마다 다르게 표시하였습니다.</dd></dl><ul>
<li><p><strong>Radboudumc</strong>: Prostate glands are individually labelled. Valid values are:</p>
<ul>
<li>0: background (non tissue) or unknown</li>
<li>1: stroma (connective tissue, non-epithelium tissue)</li>
<li>2: healthy (benign) epithelium”</li>
<li>3: cancerous epithelium (Gleason 3)</li>
<li>4: cancerous epithelium (Gleason 4)</li>
<li>5: cancerous epithelium (Gleason 5)</li>
</ul>
</li>
<li><p><strong>Karolinska</strong>: Regions are labelled. Valid values:</p>
<ul>
<li>0: background (non tissue) or unknown</li>
<li>1: benign tissue (stroma and epithelium combined)</li>
<li>2: cancerous tissue (stroma and epithelium combined)</li>
</ul>
<p>반자동적으로 생성되었기때문에 noisy합니다.</p>
<img src="/2021/02/07/Solution-Summary-Prostate-cANcer-graDe-Assessment-PANDA-Challenge/Untitled%203.png" class="" title="No title">

</li>
</ul>
</li>
</ul>
<h2 id="상위-Solutions"><a href="#상위-Solutions" class="headerlink" title="상위 Solutions"></a>상위 Solutions</h2><ul>
<li><p><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169143">1st Place Solution</a></p>
<ul>
<li><p>Data Preprocessing</p>
<ul>
<li>Geting cleaned labels</li>
</ul>
<ol>
<li><p>efficientnet-b1을 k-fold로 학습시킨 후, validation set에 대해 예측값을 낸다.</p>
</li>
<li><p>ground truth와 isup grade의 차이가 클 경우 해당 데이터를 삭제한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def remove_noisy(df, thresh):</span><br><span class="line">    gap = np.abs(df[<span class="string">"isup_grade"</span>] - df[<span class="string">"probs_raw"</span>])</span><br><span class="line">    df_removed = df[gap &gt; thresh].reset_index(drop=True)</span><br><span class="line">    df_keep = df[gap &lt;= thresh].reset_index(drop=True)</span><br><span class="line">    <span class="built_in">return</span> df_keep, df_removed</span><br><span class="line"></span><br><span class="line">df_keep, df_remove = remove_noisy(df, thresh=1.6)</span><br><span class="line">show_keep_remove(df, df_keep, df_remove)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>Split: stratifed k-fold with <a href="https://www.kaggle.com/yukkyo/imagehash-to-detect-duplicate-images-and-grouping">imghash</a> or stratified k-fold with gleason-score and imghash similarity</li>
<li>Tile Method: <a href="https://www.kaggle.com/iafoss/panda-concat-tile-pooling-starter-0-79-lb">iafoss tile method</a> (tile size 192, tile num 64)</li>
</ul>
</li>
<li><p>Model</p>
<ol>
<li>Resnext50_32x4d: head(3 * reg_head + 1 * softmax head)</li>
<li>Effnet-b1 + generalized-mean pooling</li>
</ol>
</li>
<li><p>Training</p>
<ol>
<li>Local train &amp; pred</li>
<li>Remove noisy label</li>
<li>Re-train</li>
</ol>
</li>
<li><p>Not worked</p>
<ul>
<li>Remove noisy by confident-learning</li>
<li>Cycle GAN augmentation(karolinska radboud)</li>
<li>test with AdaBN &amp; Freezing BN at train</li>
<li>CutMix, Mixup (before denoising)</li>
</ul>
</li>
</ul>
</li>
<li><p><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169108">2nd Place Solution</a> (1/2)</p>
<ol>
<li><p>Image Preprocessing</p>
<ul>
<li>Remove white background &amp; save medium resolution</li>
<li><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/151323">Remove pen marks</a> &gt; Reduce Gap (CV, LB)</li>
<li>Image Augmentation<ul>
<li>Full Slide: Shift, Scale, Rotation, Flip</li>
<li>Patch: Rotation, VFlip</li>
</ul>
</li>
</ul>
</li>
<li><p>Model</p>
<ul>
<li><p>ResNet34</p>
</li>
<li><p><a href="https://www.kaggle.com/iafoss/panda-concat-tile-pooling-starter-0-79-lb">Making Square Feature (iaofoss)</a></p>
</li>
<li><p>Square Feature 이후, Squeeze &amp; Excitation Block 추가</p>
</li>
<li><p>Pooling (Remove BatchNormalization)</p>
</li>
<li><p>Two Head (one for regression, one for classification)</p>
<ul>
<li><p>for regression, modified sigmoid is used to represent range(-1, 6)</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#idea taken from fastai</span><br><span class="line">def sigmoid_range(x, low, high):</span><br><span class="line">    <span class="keyword">return</span> torch.sigmoid(x) * (high - low) + low</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Training</p>
<ul>
<li>Stage 1: 49 tiles</li>
<li>Stage 2: 81 tiles</li>
<li>One cycle Scheduler</li>
</ul>
</li>
</ol>
</li>
<li><p><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169303">2nd Place Solution</a> (2/2)</p>
<ul>
<li>Huge Image Size<ul>
<li>iaofoss tile method</li>
</ul>
</li>
<li>Label Noise<ul>
<li>MSE loss on karolinska data</li>
<li>Huber loss with delta 1 on radboud data (radbound is noiser) - lb0.9인데 radbound가 0.85인걸 보고 알아챔</li>
</ul>
</li>
</ul>
</li>
<li><p><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169232">3rd Place Solution</a></p>
<ul>
<li>운</li>
<li>different networks and my custom tile cropping, hard augmentations</li>
</ul>
</li>
<li><p><a href="https://www.kaggle.com/iafoss/panda-concat-tile-pooling-starter-0-79-lb">iaofoss concat tile pooling method</a></p>
  <img src="/2021/02/07/Solution-Summary-Prostate-cANcer-graDe-Assessment-PANDA-Challenge/Untitled%204.png" class="" title="No title">

<ul>
<li><p>기존의 방식은 whole slide를 resize를 한 후 예측하는 방식이지만, 이는 wholse slide의 비율에 따라 resize를 하였을 때, 이미지의 ratio도 달라지고  GPU도 빈공간이 많기때문에 효율적이지않음.</p>
</li>
<li><p>그래서 patch를 concatenate하여 encoder에 돌린 이후에 마지막 head에서 permute를 통해 prediction을 내는 방식.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arch=<span class="string">'resnext50_32x4d_ssl'</span>, n=<span class="number">6</span>, pre=True)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        m = torch.hub.load(<span class="string">'facebookresearch/semi-supervised-ImageNet1K-models'</span>, arch)</span><br><span class="line">        self.enc = nn.Sequential(*list(m.children())[:<span class="number">-2</span>])       </span><br><span class="line">        nc = list(m.children())[<span class="number">-1</span>].in_features</span><br><span class="line">        self.head = nn.Sequential(AdaptiveConcatPool2d(),Flatten(),nn.Linear(<span class="number">2</span>*nc,<span class="number">512</span>),</span><br><span class="line">                            Mish(),nn.BatchNorm1d(<span class="number">512</span>), nn.Dropout(<span class="number">0.5</span>),nn.Linear(<span class="number">512</span>,n))</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, *x)</span>:</span></span><br><span class="line">        shape = x[<span class="number">0</span>].shape</span><br><span class="line">        n = len(x)</span><br><span class="line">        x = torch.stack(x,<span class="number">1</span>).view(<span class="number">-1</span>,shape[<span class="number">1</span>],shape[<span class="number">2</span>],shape[<span class="number">3</span>])</span><br><span class="line">        <span class="comment">#x: bs*N x 3 x 128 x 128</span></span><br><span class="line">        x = self.enc(x)</span><br><span class="line">        <span class="comment">#x: bs*N x C x 4 x 4</span></span><br><span class="line">        shape = x.shape</span><br><span class="line">        <span class="comment">#concatenate the output for tiles into a single map</span></span><br><span class="line">        x = x.view(<span class="number">-1</span>,n,shape[<span class="number">1</span>],shape[<span class="number">2</span>],shape[<span class="number">3</span>]).permute(<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>).contiguous()\</span><br><span class="line">          .view(<span class="number">-1</span>,shape[<span class="number">1</span>],shape[<span class="number">2</span>]*n,shape[<span class="number">3</span>])</span><br><span class="line">        <span class="comment">#x: bs x C x N*4 x 4</span></span><br><span class="line">        x = self.head(x)</span><br><span class="line">        <span class="comment">#x: bs x n</span></span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.kaggle.com/rohitsingh9990/panda-eda-better-visualization-simple-baseline">PANDA - EDA + Better Visualization+Simple Baseline</a></li>
<li><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169143">1st Place Solution [PND]</a></li>
<li><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169108">2nd Place Solution [Save the Prostate]</a></li>
<li><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169303">Part of 2nd place solution (only kaggle/colab TPU were used)</a></li>
<li><a href="https://www.kaggle.com/c/prostate-cancer-grade-assessment/discussion/169232">3rd place solution</a></li>
<li><a href="https://www.kaggle.com/iafoss/panda-concat-tile-pooling-starter-0-79-lb">PANDA concat tile pooling starter [0.79 LB]</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2021-01-13T12:47:37.000Z" title="2021-01-13T12:47:37.000Z">2021-01-13</time><span class="level-item"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></span><span class="level-item">a minute read (About 141 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/13/%EC%97%90%EB%9F%AC-%ED%95%B4%EA%B2%B0-Failed-to-initialize-NVML-Driver-library-version-mismatch/">[에러 해결] Failed to initialize NVML: Driver/library version mismatch</a></h1><div class="content"><h2 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Failed to initialize NVML: Driver/library version mismatch</span><br></pre></td></tr></table></figure>

<h2 id="해결방법"><a href="#해결방법" class="headerlink" title="해결방법"></a>해결방법</h2><ol>
<li>nvidia 관련 사용중인 드라이브 확인</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep nvidia</span><br></pre></td></tr></table></figure>

<blockquote>
<p>nvidia_uvm 966656 0<br>nvidia_drm 45056 6<br>nvidia_modeset 1114112 5 nvidia_drm<br>nvidia 20680704 328 nvidia_uvm,nvidia_modeset</p>
</blockquote>
<ol start="2">
<li>nvidia unload 하기</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo rmmod nvidia_uvm </span><br><span class="line">sudo rmmod nvidia_drm</span><br><span class="line">sudo rmmod nvidia_modeset </span><br><span class="line">sudo rmmod nvidia</span><br></pre></td></tr></table></figure>

<p><em>기타 에러 해결법</em><br>rmmod: ERROR: Module nvidia_drm is in use</p>
<ul>
<li>systemctl isolate multi-user.target</li>
<li>sudo modprobe -r nvidia-drm</li>
<li>systemctl start graphical.target</li>
</ul>
<p>rmmod: ERROR: Module nvidia is in use</p>
<ul>
<li>nvidia 사용중인 프로세스 확인<br>sudo lsof /dev/nvidia*</li>
<li>해당 process 종료하기<br>sudo kill -9 PID</li>
</ul>
<ol start="3">
<li>nvidia-smi 로 확인해보면 정상적으로 작동</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-28T12:18:11.000Z" title="2020-07-28T12:18:11.000Z">2020-07-28</time><span class="level-item"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></span><span class="level-item">a minute read (About 135 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/28/Docker-Remote-Interpreter-Setting-In-PyCharm/">Docker Remote Interpreter Setting In PyCharm</a></h1><div class="content"><h1 id="Docker-Remote-Interpreter-Setting"><a href="#Docker-Remote-Interpreter-Setting" class="headerlink" title="Docker Remote Interpreter Setting"></a>Docker Remote Interpreter Setting</h1><p>Working at home, we want to connect the server’s interpreter. This is how to do that.</p>
<h2 id="Open-Docker-TCP-Socket-Server"><a href="#Open-Docker-TCP-Socket-Server" class="headerlink" title="Open Docker TCP Socket (Server)"></a>Open Docker TCP Socket (Server)</h2><ol>
<li>Make a docker-tcp configuration file</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/system/docker-tcp.socket</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Write this content and Save</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;Docker Socket for the API</span><br><span class="line"></span><br><span class="line">[Socket]</span><br><span class="line">ListenStream&#x3D;2375</span><br><span class="line">BindIPv6Only&#x3D;both</span><br><span class="line">Service&#x3D;docker.service</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;sockets.target</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Restart docker &amp; Enable TCP connection</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> docker-tcp.socket</span><br><span class="line">sudo systemctl stop docker</span><br><span class="line">sudo systemctl start docker-tcp.socket</span><br><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure>

<h2 id="Tunneling-Home"><a href="#Tunneling-Home" class="headerlink" title="Tunneling (Home)"></a>Tunneling (Home)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ssh -L $&#123;HomePort&#125;:$&#123;ServerAddress&#125;:$&#123;ServerPort&#125;</span></span><br><span class="line">ssh -L 2375:server-address:2375</span><br><span class="line"></span><br><span class="line"><span class="comment"># Advanced (Tunneling through another server)</span></span><br><span class="line">ssh -L <span class="variable">$&#123;HomePort&#125;</span>:<span class="variable">$&#123;ServerAddress&#125;</span>:<span class="variable">$&#123;ServerPort&#125;</span> -Nfl <span class="variable">$&#123;UserName&#125;</span> <span class="variable">$&#123;AnotherServer&#125;</span> -p <span class="variable">$&#123;port&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="PyCharm-Docker-Setting"><a href="#PyCharm-Docker-Setting" class="headerlink" title="PyCharm Docker Setting"></a>PyCharm Docker Setting</h2><ul>
<li>Settings &gt; Build &gt; Docker : Write server &amp; port (2375)</li>
</ul>
<h2 id="PyCharm-Interpreter-Setting"><a href="#PyCharm-Interpreter-Setting" class="headerlink" title="PyCharm Interpreter Setting"></a>PyCharm Interpreter Setting</h2><ul>
<li>Settings &gt; Project &gt; Interpreter &gt; Add from docker</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-20T08:02:46.000Z" title="2020-07-20T08:02:46.000Z">2020-07-20</time><span class="level-item"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></span><span class="level-item">3 minutes read (About 404 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/20/Ubuntu%EC%97%90%EC%84%9C-Chrome-Remote-Desktop-%EC%84%A4%EC%A0%95/">Ubuntu에서 Chrome Remote Desktop 설정</a></h1><div class="content"><h2 id="VNCserver-설치"><a href="#VNCserver-설치" class="headerlink" title="VNCserver 설치"></a>VNCserver 설치</h2><h3 id="데스크탑-환경설치"><a href="#데스크탑-환경설치" class="headerlink" title="데스크탑 환경설치"></a>데스크탑 환경설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ubuntu-gnome-desktop</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> gdm</span><br><span class="line">sudo systemctl start gdm</span><br></pre></td></tr></table></figure>

<h3 id="VNC-설치"><a href="#VNC-설치" class="headerlink" title="VNC 설치"></a>VNC 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt install tigervnc-standalone-server tigervnc-xorg-extension tigervnc-viewer</span><br><span class="line">vncserver</span><br></pre></td></tr></table></figure>

<h3 id="VNC-설정"><a href="#VNC-설정" class="headerlink" title="VNC 설정"></a>VNC 설정</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.vnc/xstartup</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># Start Gnome 3 Desktop </span></span><br><span class="line">[ -x /etc/vnc/xstartup ] &amp;&amp; <span class="built_in">exec</span> /etc/vnc/xstartup</span><br><span class="line">[ -r <span class="variable">$HOME</span>/.Xresources ] &amp;&amp; xrdb <span class="variable">$HOME</span>/.Xresources</span><br><span class="line">vncconfig -iconic &amp;</span><br><span class="line">dbus-launch --<span class="built_in">exit</span>-with-session gnome-session &amp;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -<span class="built_in">kill</span> :1</span><br></pre></td></tr></table></figure>

<h3 id="VNC-실행-및-제거"><a href="#VNC-실행-및-제거" class="headerlink" title="VNC 실행 및 제거"></a>VNC 실행 및 제거</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vncserver -localhost no -geometry 1920x1080 :4099</span><br><span class="line"><span class="comment"># vncserver -kill :4099</span></span><br></pre></td></tr></table></figure>

<h3 id="VNC-화면"><a href="#VNC-화면" class="headerlink" title="VNC 화면"></a>VNC 화면</h3><img src="/2020/07/20/Ubuntu%EC%97%90%EC%84%9C-Chrome-Remote-Desktop-%EC%84%A4%EC%A0%95/Untitled.png" class="" title="No title">

<h2 id="Chrome-Remote-Desktop-설치"><a href="#Chrome-Remote-Desktop-설치" class="headerlink" title="Chrome Remote Desktop 설치"></a>Chrome Remote Desktop 설치</h2><h3 id="Chrome-설치"><a href="#Chrome-설치" class="headerlink" title="Chrome 설치"></a>Chrome 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add - </span><br><span class="line"></span><br><span class="line">sudo sh -c <span class="string">'echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" &gt;&gt; /etc/apt/sources.list.d/google.list'</span></span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install google-chrome-stable</span><br></pre></td></tr></table></figure>

<h3 id="Chrome-Remote-Desktop-App-설치"><a href="#Chrome-Remote-Desktop-App-설치" class="headerlink" title="Chrome Remote Desktop App 설치"></a>Chrome Remote Desktop App 설치</h3><ol>
<li>chrome remote desktop 홈페이지에서 deb파일을 다운받습니다.</li>
</ol>
<img src="/2020/07/20/Ubuntu%EC%97%90%EC%84%9C-Chrome-Remote-Desktop-%EC%84%A4%EC%A0%95/Untitled%201.png" class="" title="No title">

<ol start="2">
<li>설치</li>
</ol>
<img src="/2020/07/20/Ubuntu%EC%97%90%EC%84%9C-Chrome-Remote-Desktop-%EC%84%A4%EC%A0%95/Untitled%202.png" class="" title="No title">

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i chrome-remote-desktop_current_amd64.deb</span><br><span class="line">sudo apt-get -f install</span><br><span class="line">sudo dpkg -i chrome-remote-desktop_current_amd64.deb</span><br><span class="line">sudo chkconfig --list |grep chrome</span><br></pre></td></tr></table></figure>

<h3 id="가상-데스크톱-세션-맞춤설정"><a href="#가상-데스크톱-세션-맞춤설정" class="headerlink" title="가상 데스크톱 세션 맞춤설정"></a>가상 데스크톱 세션 맞춤설정</h3><ol>
<li>/usr/share/xsessions/에서 gnome.desktop열기</li>
<li>Exec= 뒤의 명령어 복사 (Exec=<strong>/usr/bin/gnome-session –session=gnome</strong>)</li>
<li>vi ~/.chrome-remote-desktop-session</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span> /etc/X11/Xsession <span class="string">'/usr/bin/gnome-session --session=gnome'</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>원격 데스크톱 다시 시작 후 접속</p>
</li>
<li><p>성공!!!</p>
</li>
</ol>
<img src="/2020/07/20/Ubuntu%EC%97%90%EC%84%9C-Chrome-Remote-Desktop-%EC%84%A4%EC%A0%95/Untitled%203.png" class="" title="No title">

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>VNC 설치: <a href="https://0902.tistory.com/24">https://0902.tistory.com/24</a></li>
<li>크롬 설치: <a href="https://snowdeer.github.io/linux/2018/02/02/ubuntu-16p04-install-chrome/">https://snowdeer.github.io/linux/2018/02/02/ubuntu-16p04-install-chrome/</a></li>
<li>리모트 데스크톱 설치: <a href="https://linuxcommando.blogspot.com/2014/08/chrome-remote-desktop-connects-from.html">https://linuxcommando.blogspot.com/2014/08/chrome-remote-desktop-connects-from.html</a></li>
<li>가상 데스크톱 세션설정: <a href="https://support.google.com/chromebook/answer/1649523?co=GENIE.Platform%3DDesktop&hl=ko">https://support.google.com/chromebook/answer/1649523?co=GENIE.Platform%3DDesktop&amp;hl=ko</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-17T02:30:37.000Z" title="2020-07-17T02:30:37.000Z">2020-07-17</time><span class="level-item"><a class="link-muted" href="/categories/GCP/">GCP</a></span><span class="level-item">2 minutes read (About 287 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/">GCP VM Instance 만들기</a></h1><div class="content"><p>GCP 가입 후, VM 인스턴스 만드는 방법은 간단합니다.</p>
<p><a href="https://cloud.google.com/free">GCP 홈페이지</a>에서 콘솔로 이동하신 후, 프로젝트를 하나 만듭니다.</p>
<ol>
<li>프로젝트 만들기</li>
</ol>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled.png" class="" title="No title">

<p>왼쪽 상단에 프로젝트 목록 선택</p>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled%201.png" class="" title="No title">

<p>새 프로젝트 클릭</p>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled%202.png" class="" title="No title">

<p>새 프로젝트 설정. 결제 계정은 GCP를 처음 이용한다면 $300 credit을 제공합니다.</p>
<ol start="2">
<li>VM 인스턴스 만들기</li>
</ol>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled%203.png" class="" title="No title">
<p>인스턴스 만들기 클릭</p>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled%204.png" class="" title="No title">

<p>이름, 지역, 머신 설정. 서울은 지원안하는 서비스가 있어서 도쿄로 하였습니다. 또한 저는 딥러닝 모델 서빙목적이기때문에, n1-standard2를 선택하였습니다.</p>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled%205.png" class="" title="No title">

<p>운영체제는 Ubuntu 18.04로 진행합니다.</p>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled%206.png" class="" title="No title">

<p>외부접속 허용을 위해 HTTP 트래픽을 허용해주고, 만들기를 합니다.</p>
<img src="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/Untitled%207.png" class="" title="No title">

<p>그럼 위와 같이 VM 인스턴스를 만들수있습니다 !</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-16T01:25:35.000Z" title="2020-07-16T01:25:35.000Z">2020-07-16</time><span class="level-item"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></span><span class="level-item">a few seconds read (About 75 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/16/NodeJS-npm-%EC%84%A4%EC%B9%98/">NodeJS, npm 설치</a></h1><div class="content"><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><ol>
<li>NodeJS Download → <a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></li>
</ol>
<img src="/2020/07/16/NodeJS-npm-%EC%84%A4%EC%B9%98/Untitled.png" class="" title="No title">

<ol start="2">
<li>설치 완료 후 Version 확인</li>
</ol>
<img src="/2020/07/16/NodeJS-npm-%EC%84%A4%EC%B9%98/Untitled%201.png" class="" title="No title">

<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><ol>
<li>Shell Script를 통한 설치</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># =================================</span></span><br><span class="line"><span class="comment"># NodeJS</span></span><br><span class="line"><span class="comment"># =================================</span></span><br><span class="line">apt-get update</span><br><span class="line">curl -sL https://deb.nodesource.com/setup_12.x | bash - &amp;&amp; \</span><br><span class="line">apt-get install -y nodejs</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>설치 완료 후 Version 확인</li>
</ol>
<img src="/2020/07/16/NodeJS-npm-%EC%84%A4%EC%B9%98/Untitled%202.png" class="" title="No title"></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-16T01:24:34.000Z" title="2020-07-16T01:24:34.000Z">2020-07-16</time><span class="level-item"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></span><span class="level-item">a minute read (About 138 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/16/Cityscapes-Dataset-script%EB%A1%9C-%EB%8B%A4%EC%9A%B4%EB%B0%9B%EA%B8%B0/">Cityscapes Dataset script로 다운받기</a></h1><div class="content"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Log-in</span></span><br><span class="line"><span class="built_in">export</span> USERID=myusername</span><br><span class="line"><span class="built_in">export</span> PASSWORD=mypassword</span><br><span class="line">wget --keep-session-cookies --save-cookies=cookies.txt --post-data <span class="string">'username=$USERID&amp;password=$PASSWORD&amp;submit=Login'</span> https://www.cityscapes-dataset.com/login/</span><br><span class="line"></span><br><span class="line"><span class="comment"># Download</span></span><br><span class="line">wget --load-cookies cookies.txt --content-disposition https://www.cityscapes-dataset.com/file-handling/?packageID=1</span><br></pre></td></tr></table></figure>

<h2 id="PackageID에-따른-파일명"><a href="#PackageID에-따른-파일명" class="headerlink" title="PackageID에 따른 파일명"></a>PackageID에 따른 파일명</h2><p>1 → gtFine_trainvaltest.zip (241MB)<br>2 → gtCoarse.zip (1.3GB)<br>3 → leftImg8bit_trainvaltest.zip (11GB)<br>4 → leftImg8bit_trainextra.zip (44GB)<br>8 →  camera_trainvaltest.zip (2MB)<br>9 → camera_trainextra.zip (8MB)<br>10 → vehicle_trainvaltest.zip (2MB)<br>11 → vehicle_trainextra.zip (7MB)<br>12 → leftImg8bit_demoVideo.zip (6.6GB)<br>28 → gtBbox_cityPersons_trainval.zip (2.2MB)</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>Download City Scapes Dataset with script: <a href="https://towardsdatascience.com/download-city-scapes-dataset-with-script-3061f87b20d7">https://towardsdatascience.com/download-city-scapes-dataset-with-script-3061f87b20d7</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-05T12:30:34.000Z" title="2020-07-05T12:30:34.000Z">2020-07-05</time><span class="level-item"><a class="link-muted" href="/categories/GCP/">GCP</a></span><span class="level-item">a minute read (About 194 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/05/GCP-Bucket-%ED%8C%8C%EC%9D%BC-%EC%A0%84%EC%86%A1%ED%95%98%EA%B8%B0/">GCP Bucket 파일 전송하기</a></h1><div class="content"><p>GCP Bucket을 이용하기 위해선 데이터를 전송하고 받아야한다.</p>
<h2 id="Local-Machine-→-GCP-Bucket"><a href="#Local-Machine-→-GCP-Bucket" class="headerlink" title="Local Machine → GCP Bucket"></a>Local Machine → GCP Bucket</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># OBJECT_LOCATION: Local 위치</span></span><br><span class="line"><span class="comment"># DESTINATION_BUCKET_NAME: Bucket 위치</span></span><br><span class="line"><span class="comment"># 이 커맨드는 Local Machine에서 실행한다.</span></span><br><span class="line"></span><br><span class="line">gsutil cp [OBJECT_LOCATION] gs://[DESTINATION_BUCKET_NAME]/</span><br></pre></td></tr></table></figure>

<h2 id="Bucket-→-VM-Instance"><a href="#Bucket-→-VM-Instance" class="headerlink" title="Bucket → VM Instance"></a>Bucket → VM Instance</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DESTINATION_BUCKET_NAME: Bucket 위치</span></span><br><span class="line"><span class="comment"># VM_LOCATION: VM Instance에 복사받을 위치</span></span><br><span class="line"><span class="comment"># 이 커맨드는 VM Instance 터미널에서 실행을 한다.</span></span><br><span class="line"></span><br><span class="line">gsutil cp gs://[DESTINATION_BUCKET_NAME]/ [VM_LOCATION]</span><br></pre></td></tr></table></figure>

<h2 id="병렬로-전송하기"><a href="#병렬로-전송하기" class="headerlink" title="병렬로 전송하기"></a>병렬로 전송하기</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gcp-bucket-name: GCP bucket 이름</span></span><br><span class="line"><span class="comment"># 아래 커맨드는 병렬로 gcp-bucket-name의 전체 파일을 현재 머신에 옮긴다.</span></span><br><span class="line"><span class="comment"># -m을 통해 기본 copy보다 빠르게 복사한다.</span></span><br><span class="line"></span><br><span class="line">gsutil -m cp -r gs://gcp-bucket-name/* ~/</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>Google Doc: <a href="https://cloud.google.com/storage/docs/gsutil/commands/cp">https://cloud.google.com/storage/docs/gsutil/commands/cp</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-05T11:27:48.000Z" title="2020-07-05T11:27:48.000Z">2020-07-05</time><span class="level-item"><a class="link-muted" href="/categories/TPU/">TPU</a></span><span class="level-item">4 minutes read (About 527 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-3-ssh-jupyter-notebook/">TPU 한달 무제한 사용기 - TFRC (3) ssh, jupyter notebook</a></h1><div class="content"><h2 id="TPU-Instance-환경-설정"><a href="#TPU-Instance-환경-설정" class="headerlink" title="TPU Instance 환경 설정"></a>TPU Instance 환경 설정</h2><p>IT 분야에서 코딩을 하시는 분이라면 원격으로 일하는 건 필수일 것입니다. </p>
<p>특히나 개인 장비로는 일을 할 수 없는 머신러닝은 더더욱 필수적입니다.</p>
<p>그래서 이번 포스팅에서는 GCP VM Instance에서 ssh 접속과 jupyter notebook을 활성화하는 방법을 알아보겠습니다.</p>
<h2 id="SSH-설정"><a href="#SSH-설정" class="headerlink" title="SSH 설정"></a>SSH 설정</h2><p>외부 접속이 가능할 수 있도록 ssh 설정을 바꿔야합니다.</p>
<p>VM Instance 내부 터미널에서 아래 커맨드를 실행시킵니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>

<img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-3-ssh-jupyter-notebook/Untitled.png" class="" title="No title">

<img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-3-ssh-jupyter-notebook/Untitled%201.png" class="" title="No title">

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 위 그림과 같이 아래 설정을 추가, 변경해줍니다.</span></span><br><span class="line"><span class="comment"># 추가</span></span><br><span class="line">AllowTcpForwarding yes</span><br><span class="line">GatewayPorts yes</span><br><span class="line">TCPKeepAlive yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 변경</span></span><br><span class="line">PasswordAuthentication yes</span><br></pre></td></tr></table></figure>

<p>그리고 ssh를 재실행시켜줍니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service ssh restart</span><br></pre></td></tr></table></figure>

<h3 id="User-추가"><a href="#User-추가" class="headerlink" title="User 추가"></a>User 추가</h3><p>sudo 권한을 가진 계정을 하나 추가해줍니다. 이 계정은 ssh를 이용해서 계속 사용할 것입니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># UserID: hslee1</span></span><br><span class="line"></span><br><span class="line">sudo useradd hslee1</span><br><span class="line">sudo passwd hslee1</span><br><span class="line">sudo usermod -a -G sudo hslee1</span><br></pre></td></tr></table></figure>

<p>저는 hslee1이라는 계정을 만들었습니다.</p>
<h3 id="외부-IP-확인"><a href="#외부-IP-확인" class="headerlink" title="외부 IP 확인"></a>외부 IP 확인</h3><p>GCP 페이지에서 Computer Engine &gt; VM 인스턴스 에서 인스턴스의 외부 IP를 확인할 수 있습니다.</p>
<img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-3-ssh-jupyter-notebook/Untitled%202.png" class="" title="No title">

<p>아래 빨간 박스의 아이피를 복사한 후, 외부 터미널에 접속합니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># UserID: hslee1</span></span><br><span class="line">ssh hslee1@xxx.xxx.xx.xxx</span><br></pre></td></tr></table></figure>

<p>위 커맨드를 실행하면 gcp instance에 접속이 된걸 확인할 수 있습니다.</p>
<h2 id="Jupyter-Notebook-설정"><a href="#Jupyter-Notebook-설정" class="headerlink" title="Jupyter Notebook 설정"></a>Jupyter Notebook 설정</h2><p>Jupyter Notebook을 설정하기 위해 다시 VM Instance 터미널로 돌아옵니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Jupyter Lab 설치</span></span><br><span class="line">pip3 install jupyterlab </span><br><span class="line"></span><br><span class="line"><span class="comment"># Jupyter Lab 실행이 가능하도록 설정</span></span><br><span class="line">jupyter serverextension <span class="built_in">enable</span> --py jupyterlab --user</span><br><span class="line"></span><br><span class="line"><span class="comment"># 현재 interpreter를 jupyter에서 'tpu'라는 커널으로 사용할 수 있도록 설정</span></span><br><span class="line">python3 -m ipykernel install --user --name tpu --display-name <span class="string">"tpu"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Jupyter Notebook 실행</span></span><br><span class="line">jupyter notebook --ip=0.0.0.0 --NotebookApp.token=<span class="string">''</span></span><br></pre></td></tr></table></figure>

<p>위 커맨드를 실행하고 외부 아이피:8888/lab (xxx.xxx.xx.xxx:8888/lab)으로 접속하면,</p>
<img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-3-ssh-jupyter-notebook/Untitled%203.png" class="" title="No title">

<p>성공적으로 접속이 됩니다.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-05T11:02:29.000Z" title="2020-07-05T11:02:29.000Z">2020-07-05</time><span class="level-item"><a class="link-muted" href="/categories/TPU/">TPU</a></span><span class="level-item">5 minutes read (About 708 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-2-Bucket-VM-Instance/">TPU 한달 무제한 사용기 - TFRC (2) Bucket, VM Instance</a></h1><div class="content"><h2 id="GCP-Console-Project-생성"><a href="#GCP-Console-Project-생성" class="headerlink" title="GCP Console Project 생성"></a>GCP Console Project 생성</h2><img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-2-Bucket-VM-Instance/Untitled.png" class="" title="No title">

<p>1편에서 두번째 Google Form에 GCP 프로젝트 정보를 전달하기위해 Project를 하나 생성하여야합니다. </p>
<p>프로젝트 이름을 입력하고 생성합니다.</p>
<h2 id="GCP-Bucket과-VM-Instance-생성"><a href="#GCP-Bucket과-VM-Instance-생성" class="headerlink" title="GCP Bucket과 VM Instance 생성"></a>GCP Bucket과 VM Instance 생성</h2><p>처음 프로젝트를 생성하면 아무것도 없기때문에, 새로 Bucket과 VM Instance를 생성해야합니다.</p>
<p>Bucket은 Cloud Storage로써 데이터를 저장하는 역할을 합니다. TPU 계산에서는 로컬디스크의 데이터를 사용할 수 없기때문에 반드시 Bucket을 만들어야합니다.</p>
<p>VM Instance는 계산을 진행하는 환경입니다. 해당 환경에는 기본적인 CPU와 RAM이 갖춰져있고, GPU도 추가적으로 설정이 가능합니다.</p>
<p>위 두 가지를 세팅하기 위해 GCP 터미널을 열어줍니다.</p>
<img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-2-Bucket-VM-Instance/Untitled%201.png" class="" title="No title">

<h3 id="GCP-Bucket-생성"><a href="#GCP-Bucket-생성" class="headerlink" title="GCP Bucket 생성"></a>GCP Bucket 생성</h3><p>GCP 터미널에 아래 커멘드를 적어줍니다.</p>
<p>맨 위에 설정 정보가 있고 원하시는 이름으로 바꾸셔서 설정하셔도 가능합니다.</p>
<p>저는 5개 TPU v2-8를 us-central1-f 지역으로 할당받아서, 이 지역으로 설정하였습니다.</p>
<p>할당받은 TPU region은 2번째 tfrc 메일을 확인하시면 나와있습니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Project Name : tpu-boost</span></span><br><span class="line"><span class="comment"># tpu region: us-central1-f</span></span><br><span class="line"><span class="comment"># bucket name: us-tpu-bucket</span></span><br><span class="line"><span class="comment"># tpu name: us-tpu1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 초기 설정</span></span><br><span class="line"><span class="built_in">export</span> PROJECT_NAME=tpu-boost</span><br><span class="line"></span><br><span class="line">gcloud config <span class="built_in">set</span> project <span class="variable">$PROJECT_NAME</span></span><br><span class="line">gcloud config <span class="built_in">set</span> compute/zone us-central1<span class="_">-f</span></span><br><span class="line">gcloud config <span class="built_in">set</span> compute/region us-central1<span class="_">-f</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Bucket 생성</span></span><br><span class="line">gsutil mb -p <span class="variable">$&#123;PROJECT_NAME&#125;</span> -c standard -l us-central1 -b on gs://us-tpu-bucket</span><br></pre></td></tr></table></figure>

<h3 id="TPU-VM-Instacne-생성"><a href="#TPU-VM-Instacne-생성" class="headerlink" title="TPU VM Instacne 생성"></a>TPU VM Instacne 생성</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># TPU Instance 생성</span></span><br><span class="line">ctpu up --tf-version=2.2 --tpu-size=v2-8 --name=us-tpu1 --zone=us-central1<span class="_">-f</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TPU Instance에 접속</span></span><br><span class="line">gcloud compute ssh us-tpu1 --zone=us-central1<span class="_">-f</span></span><br></pre></td></tr></table></figure>

<p>TPU Instance에 접속하실 때, passphrase는 그냥 엔터로 넘어가셔도 됩니다.</p>
<img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-2-Bucket-VM-Instance/Untitled%202.png" class="" title="No title">

<p>그럼 이렇게 us-tpu1이라는 TPU Instance에 접속되는 걸 볼 수 있습니다.</p>
<h2 id="MNIST-예제-실행"><a href="#MNIST-예제-실행" class="headerlink" title="MNIST 예제 실행"></a>MNIST 예제 실행</h2><p>TPU Instance의 터미널에서 아래 코드를 적으면 TPU를 통한 MNIST 학습이 진행됩니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Project Name : tpu-boost</span></span><br><span class="line"><span class="comment"># tpu region: us-central1-f</span></span><br><span class="line"><span class="comment"># bucket name: us-tpu-bucket</span></span><br><span class="line"><span class="comment"># tpu name: us-tpu1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bucket에서 파일을 복사</span></span><br><span class="line">gsutil -m cp -r gs://us-tpu-bucket/* ~/</span><br><span class="line"></span><br><span class="line"><span class="comment"># MNIST 실행 설정</span></span><br><span class="line"><span class="built_in">export</span> STORAGE_BUCKET=gs://us-tpu-bucket</span><br><span class="line"><span class="built_in">export</span> TPU_NAME=us-tpu1</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> MODEL_DIR=<span class="variable">$STORAGE_BUCKET</span>/mnist</span><br><span class="line"><span class="built_in">export</span> DATA_DIR=gs://tfds-data/datasets</span><br><span class="line"><span class="built_in">export</span> PYTHONPATH=<span class="string">"<span class="variable">$PYTHONPATH</span>:/usr/share/models"</span></span><br><span class="line"></span><br><span class="line">pip3 install tensorflow-model-optimization</span><br><span class="line"><span class="built_in">cd</span> /usr/share/models/official/vision/image_classification</span><br><span class="line">python3 mnist_main.py \</span><br><span class="line">  --tpu=<span class="variable">$TPU_NAME</span> \</span><br><span class="line">  --model_dir=<span class="variable">$MODEL_DIR</span> \</span><br><span class="line">  --data_dir=<span class="variable">$DATA_DIR</span> \</span><br><span class="line">  --train_epochs=10 \</span><br><span class="line">  --distribution_strategy=tpu \</span><br><span class="line">  --download</span><br></pre></td></tr></table></figure>

<img src="/2020/07/05/TPU-%ED%95%9C%EB%8B%AC-%EB%AC%B4%EC%A0%9C%ED%95%9C-%EC%82%AC%EC%9A%A9%EA%B8%B0-TFRC-2-Bucket-VM-Instance/Untitled%203.png" class="" title="No title">

<p>상당히 빠른 속도로 학습이 진행되는걸 볼 수 있습니다.</p>
<p>다음 포스팅에선 ssh, jupyter notebook 환경 세팅을 알아보겠습니다.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>Quickstart Guide: <a href="https://cloud.google.com/tpu/docs/quickstart">https://cloud.google.com/tpu/docs/quickstart</a></li>
</ul>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">Previous</a></div><div class="pagination-next"><a href="/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar1.png" alt="SooMiles"></figure><p class="title is-size-4 is-block line-height-inherit">SooMiles</p><p class="is-size-6 is-block">ML Researcher</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">2</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/soomiles" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/soomiles"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Competition/"><span class="level-start"><span class="level-item">Competition</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/GCP/"><span class="level-start"><span class="level-item">GCP</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Set-Up/"><span class="level-start"><span class="level-item">Set-Up</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/TPU/"><span class="level-start"><span class="level-item">TPU</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2021-02-07T05:27:00.000Z">2021-02-07</time></p><p class="title is-6"><a class="link-muted" href="/2021/02/07/Solution-Summary-Prostate-cANcer-graDe-Assessment-PANDA-Challenge/">[Solution Summary] Prostate cANcer graDe Assessment (PANDA) Challenge </a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Competition/">Competition</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-01-13T12:47:37.000Z">2021-01-13</time></p><p class="title is-6"><a class="link-muted" href="/2021/01/13/%EC%97%90%EB%9F%AC-%ED%95%B4%EA%B2%B0-Failed-to-initialize-NVML-Driver-library-version-mismatch/">[에러 해결] Failed to initialize NVML: Driver/library version mismatch</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-28T12:18:11.000Z">2020-07-28</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/28/Docker-Remote-Interpreter-Setting-In-PyCharm/">Docker Remote Interpreter Setting In PyCharm</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-20T08:02:46.000Z">2020-07-20</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/20/Ubuntu%EC%97%90%EC%84%9C-Chrome-Remote-Desktop-%EC%84%A4%EC%A0%95/">Ubuntu에서 Chrome Remote Desktop 설정</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Set-Up/">Set-Up</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-17T02:30:37.000Z">2020-07-17</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/17/GCP-VM-Instance-%EB%A7%8C%EB%93%A4%EA%B8%B0/">GCP VM Instance 만들기</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/GCP/">GCP</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Summary/"><span class="tag">Summary</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tutorial/"><span class="tag">Tutorial</span><span class="tag is-grey-lightest">10</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo1.svg" alt="soomiles blog" height="28"></a><p class="size-small"><span>&copy; 2021 Hyeonsoo Lee</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/soomiles"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://soomiles.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>